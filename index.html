<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Playlist mit Player und Sidebar</title>
<style>
    body {
        font-family: Arial, sans-serif;
        display: flex;
        align-items: stretch;
        min-height: 100vh;
        margin: 0;
    }
    .sidebar {
        width: 250px;
        background-color: #f0f0f0;
        padding: 20px;
    }
    .player-container {
        flex-grow: 1;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    #player {
        width: 80%;
        max-width: 800px;
    }
    .playlist-item {
        cursor: pointer;
        padding: 5px 0;
    }
</style>
</head>
<body>
    <div class="sidebar">
        <h2>Sender</h2>
        <div id="playlist">
            <!-- Hier werden die Sender dynamisch hinzugefügt -->
        </div>
    </div>
    <div class="player-container">
        <audio id="player" controls>
            Ihr Browser unterstützt keine Audioelemente.
        </audio>
    </div>

    <script>
        // M3U-URL zur Liste der Sender
        const m3uURL = 'https://raw.githubusercontent.com/gambler65/kongresi1908/e02c87c13cca9a31a602ca16f92c996c4021df8f/satlok.m3u';

        // Lade die M3U-Datei und erstelle die Playlist
        fetch(m3uURL)
            .then(response => response.text())
            .then(data => {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(data, 'application/xml');
                const items = xmlDoc.querySelectorAll('body > *');
                const playlistContainer = document.getElementById('playlist');

                items.forEach(item => {
                    if (item.tagName === 'A') {
                        const name = item.getAttribute('tvg-name');
                        const url = item.textContent.trim();

                        const playlistItem = document.createElement('div');
                        playlistItem.className = 'playlist-item';
                        playlistItem.textContent = name;
                        playlistItem.addEventListener('click', () => {
                            document.getElementById('player').src = url;
                            document.getElementById('player').play();
                        });

                        playlistContainer.appendChild(playlistItem);
                    }
                });
            })
            .catch(error => console.error('Fehler beim Laden der M3U-Datei:', error));
    </script>
</body>
</html>
